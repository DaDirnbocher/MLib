language: java
jdk:
- oraclejdk8
addons:
  sonarcloud:
    organization: mediathekview
    token:
      secure: 0KaESwMnF1zDoDDQ0PIgBAeAMhpPVym+K/D31GxFzgBjGdMnuj+DnVm1wnFhuynnAKkCApMhXiBrDYTmRzdQHjWpLtdJMiLorf8rWxvlZ4Jjhoh+RQvlsagXh94cchUBvz3ZrNqs4eFKTn3i57atTRygP2gO30iVxBOOt9QFwEeZ7bfsvXqMo4KiaYcyitmNdZAkgTkphsk4VtWqcMKMTxp5adITzFc8AkOifMi7bQivfrogzVAhjWlYi0GiH6CRl0S9Kxqzky/nSlVyMuukMl6FOT2t8DCMNrD42nehEgusTB1XaWe504iO/BcdTk4cmYwgT5UfLdl/usilwi9Az58sMCUSpJvc3M7Jjc4PqKSFmU0vozNW0oY4lGdGG3vLNqOoTd8+TPpW7JpRZpjsa7YEeAoizdivkUxG86DaTGNkCEh4kAXpIFahLNSMO1gREmJHkD2gdz+luhkIMjyMp+cqq+EKhG8T0g0SmIiDiJkL9nCCVc5InS9vWNxINhjr4R0GtVp1p+YINknkO1k5IZ53sNY47yKFZz88zWKy7jyN20abwPIv5qccwa0yTbiLC+al0IyaIeC9AWOgikuFY8Su5aaGIK8ZNdlq0gcNz0iw1igjc+Y0qOuA9JHMGHZkT3qujC7KdLTUUSDNG9ImKmzsycl/Nt+deOPqVq1Hbjw=
    github_token:
      secure: g1ScaT1Ck6osYVnOx6yRCJyS99/1xkB4cQOwBSxMfz8kaj3QCUVPs/HkzP6Em0rXSiKWuUGNviGgthK1gM7JOmkNU3wf0pY5vpcFy5QBYtS9OFRr9tk6XMEL4F1myFtPiulkDsmiveVzoGVIux4CTJJkWTUFEaYl6bmRryb3mm+XYVFMXGHYjoaBhpN4IoNVngBKEWkyBEh4yaf/7Ao1bXWZvgb1ai7v/tnOTyWmEL8a8ZCmLmCkpjwu2hVWtaJ/6J1mwN90d1UbA9ZK6Ci3AYtf2zMdYhudi0n8VHBdZXdO4Pau/k3wR1mwMOW79zfQAaXuabeSQB79XauHjUcGAgA0Gt0Lf9xUKfZv8uAziXhO2aPEjbFMEJiYtX1EIWg5+9C3APrLVXxagZQPVVZsWb8fS1TZP5wkq7VR5vlb3/VVR4q5iwUemGCJVyXvjT+tPKejF2S3OKZli3Dt17paTZkcGRZ86h7NFguzcfBUMIsCuya4Ga9bLMp0dBDrJbSmvhgWWQiXz75tzGd355QAnScfdrVnLSc9eNYaPctLtJgeZ6g8TuaywUPeDjy/aQdPqe0WdwWT6M7OR6DH5fFapQVT/X+b7ouiMs0q2BwCzneD5+k9aE5FQSNw3P9Bunwm8kpv96IH5xrbH//L1GeBCpq3TDl8WnVAOTa9gSSH0ec=
    branches:
    - master
    - develop
    - feature/.*
    - hotfix/.*
env:
  global:
  - secure: vROFVCc18khzwp59MCvb7NqqhlSM07krRp27hnrYQePTm0YjfNo/fWd2R6/IP9ZrOuWfeFPvZI9ci1Q2MBFm2PUz9OLQg2UiKRk9XHN/u/aQsDaEO4Xlyuj9ONaIzYPjxXVIYw09gDZK34pOKFXmmb4Ef/lliHA91oMprUMB0k4yZRZSeF4o7UCL7UbNGWlg839Tg9hqKebL4vXuNwuoB75TgsqkKu3ayJVq+YD9bA+qzuygf8t8NlcdaHGbmRIPQigJFaUDehp9ntsKQNxazPtiwKB9rmnbtaKkdJNy1f0YAdQxmznSKc18bdGWr9eA69mVkPWrUlSxb304wBHB9CKnQT8yaWlFjMZSjyrIz5Xp7dNcJUHQ7Y19mG1ZmCmQxZd1uP7vA60kSUocCycciV2X0+CjdiYqFhjhiCLkrm3BD9TM7u2g7HjneRyK/5gkyxQo5YW8vfWtVy65vgiAlc0oVRA1YvhRq7v+ppnL3Fhz7osVVc15rZePjQyQ6mSURZ5r94EUU2Jcd6rbxiLnsKycr2dZDfDHhxgQ2L86WsclakoQXitRg2GpabSu/fjIaFAzOVnK5ezXFZaCoWaPJ8IwfMB8U4I0uQDCoWjUXl6c3uAI18xIHF1idvNIiEHiqfUIm0ZiEKLpL2m4EKpx6ig/nYNgNvwI8NDXXAIU56k=
  - secure: qX5la8Jzlo5xccAEaYFIY+0JF8tPbonjDWMnE9lwKbep9wP6ahUiaMjA1BA0abCK4W/9Eod7IW8n24R47AP8e0kAujpl2+IjXWPVLU+kf7Cdd5bm4pPro9w+3kDt+zir/DjN+ho8eoQVo1MuTVwLAVzZIS3J7Zl2XzRuV9NSCPsxNNA/tQJ8M3WHuBKlid6VUn4NaCb63OqzD8HyzhJJnpT66rWFrD9YaMAtpqTwoEIH3obl+vNzOy9XjB3zQldROVi3n8JQv67N83//EqsbM240g6ZXlAtRXpP1w2VtU8BrEuUxO1dKkLqlgeb8Le86Px2R6SF1975/m2ZO9y8aAIxtX80TJ9fi3alo4DYbROGHPkLAMp1G2u1MUWlxKG2/6AKqAY5dFdCqaVGmDYSawdqay6zawJJ07Uf4K/pitTDYRybqg/od6hZuT2nHb93lyO8MLGkKLKALxEJxbrj3ElDUJvuwxgiXCNLvcxrcYZipVI0CIIRsLCeKeq0lFb25qRcyCcSFnyTZ5jH5tu3KZHSIjSz6qgvWwXVzmBgHNb3T0YHu48lWg6IHwFSySfaHrzZWeYkdE1jmKaUzo0vQz084u0Vf61AdV/DxJAVpIinBXl6LjauClmPd6DcL6zX88DMYOTfm5QZNfuOtgZL15uObbglml3CG/22XlnQfPDQ=
  - secure: NcKEotFyiZGuM8f1KhZ+868hdiJCUCNt42yEwvFLMKW2s0T15E675fKL34xaZWsFzSANyTAJBIKd0e4ijCK66Nmf3FSDshWINnXTzpnHg7GPI3JPNcazJmlZ6byDT2YylQR2wxDgaJENqrWAfPEBGO8aOKutmbTkPmvpI3wgt/Laab7ZwRGxNkuRnsqHw0TIv21TFzzXNFq4GMPK2r2t2PeG75t0bizhlE3Ci+DlWtwY9zUbYhcGtBfA2Pz8d7P7FAXPZONC6xuRLcrS3NlB8cldCCouAsagFOuWySI7zOBMCxG5Gh0J8NYvtFE6hOLH3D1Xs4v4CIBSc6IsKmhDu0LWxyX9tmAY0MwVC6IDXq6gdMmp8CHZz0WjmOukSVtWGXYo+iOsQIORvQ7FMUiwl/kZFtLhPImMUywCh0Yo5dF/wmXbOf8PJaMkfHy43KWgW182Qkz9DeyXWAnGZFOA3Mk0D/qz9vPMQpli/seS1uGXLt2NIif8xnFuxdglgSKsB0udi7Sz/X2S7kQJA0/bJaRsdP+Ozh65L5EX23Bap/CVGbEJr8Q9Nbbe8jlzroLBFuYjYgmVbMlfvIRuP+wwkEHARCeIQya8rKe72wfJtmfHBAFIh260UaXt7X18EuCu7LxCqg8+A+DLE1WmAJP1hQhHUi7KBqiZWikATsQq50M=
  - secure: mYDdkXG4w0aAvpV0jg55f4Wu3tcr4fsU5MMDkb2AKVShwtmFAk5zwGh3UU0rkOxyXwTGLZxo2sswkcpqWdyx5amQH8rLoLqzsuUqZRHZybHAY+pJ6tPXoGzQyn1qkN4HlsG4T7NMKD9RbB5BKfnMNpRFz+JTGP2HhKWuUnfNfAVo+8X8Y/OgoOc+Ouinzt6gj2UmnIz1GmHSNq7mIjNqjizlaSnPaIJDqQkg1MDMYpoI/nESYxEhINkDA1hqyhb73wfb2GGJCqLGr3CAYZHXh0uLEOtVifeLqfeS5yAxIIoR3/c9NtDf2KHZxqwOWO1Jkuc6Z/jYY0B9ElnoQ+eBQiPqHIyuQm1DfysZeh2QhgPoL9i2iz4sdA77ouO7OpSn68TNxH90ign0XTfQiBvCI/XcdgSNvwrceAyr/IcMuc3MuYHByhsSk2l4hNNe1sR6sy2fZ7JXb+2rAE4wtn1Icd4pQc2VQ74zJRgyY07D5rcvgEj2My9czonlUKNfd5zKSR7YmKFq9BF9cSzjKlA5NJ3M9pg3wL88nZ7Mcbw6sEcXohCvkEWNUgzgLYdk1255AjSDoNyE3T3i8McSPPPVgzBy4QU2OnXCkFDTfOKLyjWHBY87hU7ZP45pzPCw8SqhL7glziPGQXL2HJssaWiFqNtPKFLt7mC9Yqfyz2nI+xw=
  - secure: 61NIr5bk+DWS08aceoUc39mMChUAcFT82K8quC1Nm7bWMlvOwPGjC0N9Gf7mcWcpoi/0jagD7EdPM5kz9IpgiRoBI2ijJtqOchwzMUqaeoj6nCCMFZLj7mPVM0Uu93/PHDjoH2xjzBT7uVc695K9ZarKL1LLCh7P9uyhX9ORNtLZotiEVRIGi7k/Bn2iS8b46Xmgo0o0QoBaEMY/xRAQrleEV4zWd30HEVVyviODdi2l5ZI/UKv2iYMYV81dChyrA5jbAa70o8rErPesXEIzvxemiTxsk6auZMNSGrPKA4ogcj1TnkIHeRogPB4Q2/pqX9sG3YfwKvyT0H+PJaexu24cZ6a55YFx9Hjiaz7qgok1bU0uQeuSgRA6AyBpugc5ZVPnKaseXZlu3ZPW9ArzHWmXVR0GuHjzwQhO6lE0Zh0AsSz1MH33tTPWSR0wYjie3sMtiYD7ACU5lllB6A6Cr/2+ZADXs330uui9Ecp5gFCEGD8hYNYes0EPueoHR11CX/qsxWP/VfWc7XNRNpMLl6YNo1kqn9S90+CrKwSyKYCELxSyVOJt3pxUFyN/137s991whlMqgcNtr+cj8Ssgrpf2Rr7RCZtWakHY5QzbTc1VBjK7oFLd5dNovmrGgmeRkKhCQ2DGVci5Np1sD+4TIXmpgqI7gIrknL0cY04CM88=
  - secure: YYD1i8wguhRjg0a3jEQpdmcYUdjrzyUdgWUR9hDMzwLmHzLsLDOk4L83/mSzC6u89zn7nv8DiCvrPbG1NTx5ToZCpby46T7HfEotGoLLwFbHLtMToBISbS3O+V9gQux85ucCrzcN9hwWNdYjZVRokCu7aP6fwwFnS7rCNDJRs0KLbZ14ghmBILesAlq4BuEjYUkvUPQm7DFmWMVbGio0nDGv81w6Rp1wc6jGZhKcj7VqIkTz8mtGZ7EjhXBTJfN/woQpUPsSgLGeuRuMxR90OJSfzU1vwSAZJSg0qFjs8GJOB7xaX/X+6rsZRBfkhaX6szL8EfSVxrhyS74UMUZq4zy85KSVhOXI0JKhPf2S4IFuhMH5Bo7mx6dLsaFkSOFfNubyeEPzNIKMsREc1nESVGUzT8ATygRu/IOaXLxeiIxJQuRQNjW/6R2BDy0KluAPXG2l+oeNmnP6RiSzdMXqbNTuPym4tblkk5k9JWb8h6J/1+glCQzIpvZKJJNgkrwhj/rcUHT1IVhAQ1YfgJNkIlq31tCRzlRGRqH9o1i5+X0SQfqJ+6W5yAYs0x+YCiq8jfDBns9ydZ5F1kxnKr69Es2LLu7ZRS+zYEpITK1yhrSIQYbuCgFLdi0uHhTbfglZW6k0sUwP8Pn8fDErL+RToB7gT5qsHfW8zV5HaciJr7w=
before_script:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/pubring.gpg.enc
  -out scripte/deploy/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/secring.gpg.enc
  -out scripte/deploy/secring.gpg -d
script:
- "./gradlew check build"
- if [ "$TRAVIS_BRANCH" == "develop" ]; then ./gradlew releaseSnapshot; fi
after_success:
- sonar-scanner
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
  - "$HOME/.sonar/cache/"
before_deploy:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/pubring.gpg.enc
  -out scripte/deploy/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/secring.gpg.enc
  -out scripte/deploy/secring.gpg -d
- "./gradlew release"
deploy:
  provider: releases
  api_key:
    secure: g1ScaT1Ck6osYVnOx6yRCJyS99/1xkB4cQOwBSxMfz8kaj3QCUVPs/HkzP6Em0rXSiKWuUGNviGgthK1gM7JOmkNU3wf0pY5vpcFy5QBYtS9OFRr9tk6XMEL4F1myFtPiulkDsmiveVzoGVIux4CTJJkWTUFEaYl6bmRryb3mm+XYVFMXGHYjoaBhpN4IoNVngBKEWkyBEh4yaf/7Ao1bXWZvgb1ai7v/tnOTyWmEL8a8ZCmLmCkpjwu2hVWtaJ/6J1mwN90d1UbA9ZK6Ci3AYtf2zMdYhudi0n8VHBdZXdO4Pau/k3wR1mwMOW79zfQAaXuabeSQB79XauHjUcGAgA0Gt0Lf9xUKfZv8uAziXhO2aPEjbFMEJiYtX1EIWg5+9C3APrLVXxagZQPVVZsWb8fS1TZP5wkq7VR5vlb3/VVR4q5iwUemGCJVyXvjT+tPKejF2S3OKZli3Dt17paTZkcGRZ86h7NFguzcfBUMIsCuya4Ga9bLMp0dBDrJbSmvhgWWQiXz75tzGd355QAnScfdrVnLSc9eNYaPctLtJgeZ6g8TuaywUPeDjy/aQdPqe0WdwWT6M7OR6DH5fFapQVT/X+b7ouiMs0q2BwCzneD5+k9aE5FQSNw3P9Bunwm8kpv96IH5xrbH//L1GeBCpq3TDl8WnVAOTa9gSSH0ec=
  file_glob: true
  file:
  - build/libs/*
  skip_cleanup: true
  on:
    tags: true
