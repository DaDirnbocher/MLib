language: java
jdk:
- oraclejdk8
addons:
  sonarcloud:
    organization: mediathekview
    token:
      secure: 0KaESwMnF1zDoDDQ0PIgBAeAMhpPVym+K/D31GxFzgBjGdMnuj+DnVm1wnFhuynnAKkCApMhXiBrDYTmRzdQHjWpLtdJMiLorf8rWxvlZ4Jjhoh+RQvlsagXh94cchUBvz3ZrNqs4eFKTn3i57atTRygP2gO30iVxBOOt9QFwEeZ7bfsvXqMo4KiaYcyitmNdZAkgTkphsk4VtWqcMKMTxp5adITzFc8AkOifMi7bQivfrogzVAhjWlYi0GiH6CRl0S9Kxqzky/nSlVyMuukMl6FOT2t8DCMNrD42nehEgusTB1XaWe504iO/BcdTk4cmYwgT5UfLdl/usilwi9Az58sMCUSpJvc3M7Jjc4PqKSFmU0vozNW0oY4lGdGG3vLNqOoTd8+TPpW7JpRZpjsa7YEeAoizdivkUxG86DaTGNkCEh4kAXpIFahLNSMO1gREmJHkD2gdz+luhkIMjyMp+cqq+EKhG8T0g0SmIiDiJkL9nCCVc5InS9vWNxINhjr4R0GtVp1p+YINknkO1k5IZ53sNY47yKFZz88zWKy7jyN20abwPIv5qccwa0yTbiLC+al0IyaIeC9AWOgikuFY8Su5aaGIK8ZNdlq0gcNz0iw1igjc+Y0qOuA9JHMGHZkT3qujC7KdLTUUSDNG9ImKmzsycl/Nt+deOPqVq1Hbjw=
    github_token:
      secure: g1ScaT1Ck6osYVnOx6yRCJyS99/1xkB4cQOwBSxMfz8kaj3QCUVPs/HkzP6Em0rXSiKWuUGNviGgthK1gM7JOmkNU3wf0pY5vpcFy5QBYtS9OFRr9tk6XMEL4F1myFtPiulkDsmiveVzoGVIux4CTJJkWTUFEaYl6bmRryb3mm+XYVFMXGHYjoaBhpN4IoNVngBKEWkyBEh4yaf/7Ao1bXWZvgb1ai7v/tnOTyWmEL8a8ZCmLmCkpjwu2hVWtaJ/6J1mwN90d1UbA9ZK6Ci3AYtf2zMdYhudi0n8VHBdZXdO4Pau/k3wR1mwMOW79zfQAaXuabeSQB79XauHjUcGAgA0Gt0Lf9xUKfZv8uAziXhO2aPEjbFMEJiYtX1EIWg5+9C3APrLVXxagZQPVVZsWb8fS1TZP5wkq7VR5vlb3/VVR4q5iwUemGCJVyXvjT+tPKejF2S3OKZli3Dt17paTZkcGRZ86h7NFguzcfBUMIsCuya4Ga9bLMp0dBDrJbSmvhgWWQiXz75tzGd355QAnScfdrVnLSc9eNYaPctLtJgeZ6g8TuaywUPeDjy/aQdPqe0WdwWT6M7OR6DH5fFapQVT/X+b7ouiMs0q2BwCzneD5+k9aE5FQSNw3P9Bunwm8kpv96IH5xrbH//L1GeBCpq3TDl8WnVAOTa9gSSH0ec=
    branches:
    - master
    - develop
    - feature/.*
    - hotfix/.*
env:
  global:
  - secure: vROFVCc18khzwp59MCvb7NqqhlSM07krRp27hnrYQePTm0YjfNo/fWd2R6/IP9ZrOuWfeFPvZI9ci1Q2MBFm2PUz9OLQg2UiKRk9XHN/u/aQsDaEO4Xlyuj9ONaIzYPjxXVIYw09gDZK34pOKFXmmb4Ef/lliHA91oMprUMB0k4yZRZSeF4o7UCL7UbNGWlg839Tg9hqKebL4vXuNwuoB75TgsqkKu3ayJVq+YD9bA+qzuygf8t8NlcdaHGbmRIPQigJFaUDehp9ntsKQNxazPtiwKB9rmnbtaKkdJNy1f0YAdQxmznSKc18bdGWr9eA69mVkPWrUlSxb304wBHB9CKnQT8yaWlFjMZSjyrIz5Xp7dNcJUHQ7Y19mG1ZmCmQxZd1uP7vA60kSUocCycciV2X0+CjdiYqFhjhiCLkrm3BD9TM7u2g7HjneRyK/5gkyxQo5YW8vfWtVy65vgiAlc0oVRA1YvhRq7v+ppnL3Fhz7osVVc15rZePjQyQ6mSURZ5r94EUU2Jcd6rbxiLnsKycr2dZDfDHhxgQ2L86WsclakoQXitRg2GpabSu/fjIaFAzOVnK5ezXFZaCoWaPJ8IwfMB8U4I0uQDCoWjUXl6c3uAI18xIHF1idvNIiEHiqfUIm0ZiEKLpL2m4EKpx6ig/nYNgNvwI8NDXXAIU56k=
  - secure: 2ccJGZoeGGuEvRrWJzQsfBRAxjiZeC5p4oi0abbAVZcbY/CSdJ/rhw7S6rxHleslx63+H4iGUFV0iN4fqITfiD4SPYowp8PVyiPXPyJe8uwOPaqwZ0VSpCTrHh0ZV6dJ8SBaCIGb0Z+7iypcz0N9CvTPIfy0RTNwX8jrg0JoBmV25UyiGA8Aa1DCAQSFB1Bb/3AcjIr916Q2uBn+GnDSq8eJzlW7esuzm6g/MxfvioLTl+2idNYsZ9Hep+2f7ykwLtY1m6n0C54yAuu+rqBPTzwEQqThpQeEdfcOEFoV7Fs1pgXPpRIDM+eaC84goAWakuz7iajrls61KUIvHg5E1EIjPFTz9ViZQCwa0/2sbKWHK/Q5fzsyom7uXJ8HDIe3zRSKIR9whZ2F3TfnBBBIdbbj9UPu3qHW1DZQGmxFGzcDsFpOipytxMT9A2i/Z+SWax5YFqmKB2qK39EHJ7Z2XfRbfxPaRXjyKwE2PmV/vQRi5lNpov22SCWHylD9putHV5TxQ4ALEg/pFQdsnnuEkTXNCv2d+QKm/2kEAnGzKoFnp/hoHctQoLgHqsVE7+QbtnfEra/lglREzRTZxs26q/QGXNMOyz+LcUi3QwKRjYwnPBwvgHOWA6Dib9+V7NvJ4BLzuCdhHJAp6lsW79XGqneXpHzjHgZnnz+J4dhivnA=
  - secure: IkltOhzlDZDn+QsXkaq0KA+verPmL7teOurBSbJV7e7KdwjuU4uXZJ6eD9nxOHpt6OzuYxzL4UGYoHsg8GuTrteHqxaZ6sxfBYrJBJKNModjot6fJ0W95hiIFbKP73GtDe6UDKfU5Rq3HUw7WJ065q3XuIwf662wRRzAF5FngnuCpdbLgYFv+bnDGM2fcgXaGsq6oGGMAxXgVsZ6hOk0N+CXa8gPxDjCe8OSjJnc3MTRXJTTBQlxRyVcFH5F8vdGIQ03+FB0B544lv+mvH1qb3on6+diPRverqpWqSPZd0uWn3s7NP3a2EgYTS2+gUDLShuKXgJC++rV2mijWAv81nYJnve37P1mA2BpiSTG2y8wDf57sTivTgjLnWC6+pzZ/6eWnjhlRJ+zOJXKDDToCTq9/wcWKEL5DD4IRj1wx15HPJiXxuI655xFpfe68UtzBwb/ZVo58/BA4aw7FW4JjsWrMj8vRYoBuM4kovNgc1pwsPEPuNmaYoWF2lTd62GRboQuVPd+WsG/K9s9/6O6mH4R9194cZ65Z0QJLWKJhxl7aou/6MtUxafd9G5+iRsTNKYHieCjNOKXRa8F8fo6E9bwwrCWK7723G6OIDKVfM8/YpcWBtC1zvvE5WFP370fiEvgtjCvYvjN5nOJ1V/lA+WStcdBL3CBGUf/ddi1IV0=
  - secure: usw/63KwJyVK0463vTm32verRDEBrLQlhjmwklpHrtuMx3i9kMJKXi81aZY7IWTafuk9nDt3+NLJLQQelGY8gBhhl8XBmOCloV5cHesFA2x6mRoJXFhhAYMLp1aO2WU1dsdtcJBrjsybxKOrFe8D/dC2c9OH5qzH7UMt+iK6Z8e3Rp9WiuJsHyqz+u8OtskLX4DI13klSK4vLA6fbcFa3xsbGv5S208AEqGlqbGBRq9V3rtSb0/7ZuyA4+yWcQuDjJF/uOIR98U51967+5T9JY+KJ8H109Va779biWA6pDEOH90ngmYKUjlRqaFHihXHK0dSDjwPejhYufSE2UgjRU0Tw7NHocJpXcAKX+U0eGEC+c9zYu3lxzl5yRjqkkBovn9dcUSsvBZFPRZ5Vgd9rWSB/2iUIAo+i8n4vBQKLbfKbSYWhhUZKZtesqXhTS1aBVLeRCP16NJexwvQ2t02jUlKRDfVZ51UcmoE4DltDjOKa6lfx92SJ/8loRoYHSodJl7j+VjAfLKOku7SgS8tX6wvLAZz2/Fs6agcpUAT7QhwLruD1W3EdNdJjgms4NiqrF70AgZDaxig3mY0ZGn2F+RuIAQcYz9Y8cUAl7vMvGigYXp9S6nE7CBLIvlSH3YGjqTFdxIRfdyaWBhGFMAx0z1K2kHtrquX29dJiiKvL10=
  - secure: KdvE2X5YLEW3MuVt8pKROyNzC2AX1MyakSUT3OfJpPxREwYKrC1r4YkWDvvR4KEJPdU43HazBE5/HvrIMd66evMjxdd5Q1mS0TGUtghXYsrMv7H/hCnIvUQX75KbDPxcuQMZPMIAa2pUnN3ETewVf1+IUvqIPKvb0J4ElhhOHAJ2eFaOC9yNock78eoeItOM1stg/Uwl8g+mmJbyrTmeprqy6uI7Z1YoqjkiAJavo42mCdI7wrhwu5NIsTbPsYiq+yvGLX9hmCCVzhoRptM/tWQMRgAE4STjTrlSlJTllBlked6yvK2aN85J3kM7CHp8VtRuFEVyfxOdKaxgyTvfML7IMwVn/65nkVamfemfJVEh+yAIrCO8PZu8IaSVMO57ScWnG5pxHnrtI2OzsOY2EKQyf6USd0bvc0sZxkzsUFdzDKEjWgl7XdV6cFLchzk2iT8bNZEYFc7mWV5QI7qbAWj+VW/DBvnnoT8WuAM9fiG//6/77xMyFe1/a5CQ4ZFl5VtZEBcCW8IFDEuQTGRR0kCOnINuAy3ELpB65LT2ZZ4dlvAB1XLijHB/VuW2k2J2P9qbiJEKtaI7B+MWu6f8Yay9FcKK9OLeqamNxbB2/BgtK9xEBYwCM2ffHbTLuoplDYtqVbJpsd3bOENql46OD8TykyXLhsH28AKHSiqF6hI=
  - secure: R4E2UGTLWdzNY7Ue3m3clFhjoqY/YRr4JZ1dqzOlSWcqPZX5zXFdQlEB8hfEzLoxqNuIIYdUFZO0VD9MUcy4yxQhqIFRtM9xa+VMoadnT4CjpTH5joCc0O/GwmJcbTRfWocVIy0IaaXrbUDJEUM+MsCYWhIIeqQpVp/jA/LaG0N060afD79VSWYmo61tR5woIxIPvpgstbiIlXqNcbNjYqyuBJHe5jr7rbXB0r/qd6XghMF35kuqKCM5bBUt2+LKNK5qoiCjFqvjf24lkHE2L2KoeJNaU2X6Pe13NxtGkhUklhty2r3dwCfx7oe5b0CTaiQxlWzJvb37QjUfz2ztsCq1ot4nOeiRoYNHgjca86sB6DuExYG6YxSWMdfpbdemuQGKj0HbZpERTg2wAAFWFU9mrx0SCYk4Kx6y7nK6oc0pXV4OUjnOTx4LBV0FDf5Vev8xjjvTmnzrnAU4ovVUb2D85VzEtUZBVdbaFX4bcs+6ZjP7jTWRXUUKSF999t1SXpnQIw1fexjgmJeT6zofePSRxWKaIKtp1bfcYty1ob80GmD6uS4v4UFz9TmlU4UrJKB1qJKdUIJLb4itJ9FxkOnOAih385JAuB5wIn5qz/tsunaJXfGo+A8YYAig3d21oFIurhFCO4PKoZBL8qXylYxYDU/d+p6aWNwi25CPFAc=
before_script:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/secring.gpg.enc
  -out scripte/deploy/secring.gpg -d
script:
- "./gradlew check build"
- if [ "$TRAVIS_BRANCH" == "develop" ]; then ./gradlew releaseSnapshot -PSONATYPE_USERNAME=$SONATYPE_USERNAME -PSONATYPE_PASSWORD=$SONATYPE_PASSWORD -Psigning.keyId=$GPG_KEYNAME -Psigning.password=$GPG_PASSPHRASE -Psigning.secretKeyRingFile=scripte/deploy/secring.gpg; fi
after_success:
- sonar-scanner
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
  - "$HOME/.sonar/cache/"
before_deploy:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/secring.gpg.enc
  -out scripte/deploy/secring.gpg -d
- "./gradlew release -PSONATYPE_USERNAME=$SONATYPE_USERNAME -PSONATYPE_PASSWORD=$SONATYPE_PASSWORD -Psigning.keyId=$GPG_KEYNAME -Psigning.password=$GPG_PASSPHRASE -Psigning.secretKeyRingFile=scripte/deploy/secring.gpg"
deploy:
  provider: releases
  api_key:
    secure: g1ScaT1Ck6osYVnOx6yRCJyS99/1xkB4cQOwBSxMfz8kaj3QCUVPs/HkzP6Em0rXSiKWuUGNviGgthK1gM7JOmkNU3wf0pY5vpcFy5QBYtS9OFRr9tk6XMEL4F1myFtPiulkDsmiveVzoGVIux4CTJJkWTUFEaYl6bmRryb3mm+XYVFMXGHYjoaBhpN4IoNVngBKEWkyBEh4yaf/7Ao1bXWZvgb1ai7v/tnOTyWmEL8a8ZCmLmCkpjwu2hVWtaJ/6J1mwN90d1UbA9ZK6Ci3AYtf2zMdYhudi0n8VHBdZXdO4Pau/k3wR1mwMOW79zfQAaXuabeSQB79XauHjUcGAgA0Gt0Lf9xUKfZv8uAziXhO2aPEjbFMEJiYtX1EIWg5+9C3APrLVXxagZQPVVZsWb8fS1TZP5wkq7VR5vlb3/VVR4q5iwUemGCJVyXvjT+tPKejF2S3OKZli3Dt17paTZkcGRZ86h7NFguzcfBUMIsCuya4Ga9bLMp0dBDrJbSmvhgWWQiXz75tzGd355QAnScfdrVnLSc9eNYaPctLtJgeZ6g8TuaywUPeDjy/aQdPqe0WdwWT6M7OR6DH5fFapQVT/X+b7ouiMs0q2BwCzneD5+k9aE5FQSNw3P9Bunwm8kpv96IH5xrbH//L1GeBCpq3TDl8WnVAOTa9gSSH0ec=
  file_glob: true
  file:
  - build/libs/*
  skip_cleanup: true
  on:
    tags: true
